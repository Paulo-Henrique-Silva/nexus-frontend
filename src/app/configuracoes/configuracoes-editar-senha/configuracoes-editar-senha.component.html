<div class="d-flex justify-content-center">
    <mat-card class="col-12 col-md-6 p-3">
        <!--Spinner de carregando.-->
        <div *ngIf="carregando; else telaPrincipal" 
        class="d-flex flex-column justify-content-center align-items-center h-100">
            <mat-spinner></mat-spinner>
        </div>

        <ng-template #telaPrincipal>
            <mat-card-header class="mb-4">
                <mat-card-title>Editar Senha</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <form class="d-flex flex-column" [formGroup]="formulario">
                    <mat-form-field class="mb-3">
                        <mat-label>Senha Atual</mat-label>
                        <input type="password" matInput formControlName="senhaAtual">
                        <mat-error *ngIf="campoInvalido('senhaAtual')">
                            {{ obterMensagemErro('senhaAtual') }}
                        </mat-error>
                    </mat-form-field>
    
                    <mat-form-field class="mb-3">
                        <mat-label>Nova Senha</mat-label>
                        <input type="password" matInput formControlName="senhaNova">
                        <mat-error *ngIf="campoInvalido('senhaNova')">
                            {{ obterMensagemErro('senhaNova') }}
                        </mat-error>
                    </mat-form-field>
    
                    <mat-form-field class="mb-3">
                        <mat-label>Confirme Nova Senha</mat-label>
                        <input type="password" matInput formControlName="confirmacaoSenhaNova">
                        <mat-error *ngIf="campoInvalido('confirmacaoSenhaNova')">
                            {{ obterMensagemErro('confirmacaoSenhaNova') }}
                        </mat-error>
                    </mat-form-field>
                </form>
            </mat-card-content>
            <mat-card-actions [align]="'end'">
                <a mat-button class="me-3" routerLink="/configuracoes/usuario-detalhes">
                    Cancelar
                </a>

                <button mat-raised-button color="primary" [disabled]="formulario.invalid"
                (click)="onSubmit()">
                    Editar
                </button>
            </mat-card-actions>
        </ng-template>
    </mat-card>
</div>